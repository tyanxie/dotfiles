# 快捷键

本仓库配置的 leader 键为 `space`。

- [Vim基础](#vim基础)
  - [普通模式（Normal Mode）](#普通模式normal-mode)
  - [插入模式（Insert Mode）](#插入模式insert-mode)
  - [可视模式（Visual Mode）](#可视模式visual-mode)
  - [强大的 g 前缀命令](#强大的-g-前缀命令)
- [基础命令](#基础命令)
- [窗口命令](#窗口命令)
- [Bufferline](#bufferline)
- [编码相关](#编码相关)
  - [代码诊断](#代码诊断)
  - [Todo](#todo)
- [Git](#git)
- [Neo-tree](#neo-tree)
- [Fzf-lua](#fzf-lua)
- [多光标](#多光标)

## Vim基础

### 普通模式（Normal Mode）

| 快捷键      | 作用                                                                                      | 分类           |
| ----------- | ----------------------------------------------------------------------------------------- | -------------- |
| `h`         | 向左移动一格                                                                              | 移动           |
| `l`         | 向右移动一格                                                                              | 移动           |
| `j`         | 向下移动一行                                                                              | 移动           |
| `k`         | 向上移动一行                                                                              | 移动           |
| `w`         | 跳到下一个单词位置                                                                        | 移动           |
| `b`         | 跳到上一个单词位置                                                                        | 移动           |
| `e`         | 跳到当前单词末尾                                                                          | 移动           |
| `f<char>`   | 将光标移动到下一个指定字符上                                                              | 移动           |
| `t<char>`   | 将光标移动到下一个指定字符之前的字符上                                                    | 移动           |
| `{` / `}`   | 跳转到上一个/下一个空行                                                                   | 移动           |
| `Ctrl-o`    | 跳转到光标所在的前一个位置                                                                | 移动           |
| `Ctrl-i`    | 跳转到光标所在的后一个位置                                                                | 移动           |
| `i`         | 当前光标位置进入插入模式                                                                  | 进入插入模式   |
| `I`         | 在行首进入插入模式，会避开行首的空格                                                      | 进入插入模式   |
| `o`         | 在下一行插入新的一行并进入插入模式                                                        | 进入插入模式   |
| `O`         | 在上一行插入新的一行并进入插入模式                                                        | 进入插入模式   |
| `a`         | 在当前光标后面位置插入                                                                    | 进入插入模式   |
| `A`         | 在行尾进入插入模式                                                                        | 进入插入模式   |
| `c{motion}` | 替换内容并进入插入模式                                                                    | 进入插入模式   |
| `C`         | 从光标当前位置开始一直到行尾的内容均做替换并进入插入模式                                  | 进入插入模式   |
| `v`         | 进入文本可视模式                                                                          | 进入可视模式   |
| `Shift-v`   | 进入行可视模式                                                                            | 进入可视模式   |
| `Ctrl-v`    | 进入块可视模式                                                                            | 进入可视模式   |
| `:`         | 进入命令模式                                                                              | 进入命令模式   |
| `/`         | 进入搜索模式，输入内容并从上往下搜索                                                      | 进入搜索模式   |
| `?`         | 进入搜索模式，输入内容并从下往上搜索                                                      | 进入搜索模式   |
| `*`         | 进入搜索模式，从上往下搜索当前光标所在的单词                                              | 进入搜索模式   |
| `#`         | 进入搜索模式，从下往上搜索当前光标所在的单词                                              | 进入搜索模式   |
| `n/N`       | 跳转到下一个/上一个搜索结果                                                               | 搜索模式       |
| `u`         | 撤销上一个操作                                                                            | 撤销与回退     |
| `Ctrl-r`    | 回退上一个撤销操作                                                                        | 撤销与回退     |
| `y{motion}` | 复制内容                                                                                  | 复制/剪切/粘贴 |
| `yy`        | 复制当前行                                                                                | 复制/剪切/粘贴 |
| `Y`         | 从光标当前位置开始一直复制到行尾                                                          | 复制/剪切/粘贴 |
| `x`         | 剪切当前所在单词                                                                          | 复制/剪切/粘贴 |
| `dd`        | 剪切当前行                                                                                | 复制/剪切/粘贴 |
| `D`         | 从光标当前位置开始一直剪切到行尾                                                          | 复制/剪切/粘贴 |
| `p`         | 将复制的内容粘贴到当前光标所在位置之后                                                    | 复制/剪切/粘贴 |
| `P`         | 将复制的内容粘贴到当前光标所在位置之前，并且不会将当前选中内容（Visual 模式下）写入寄存器 | 复制/剪切/粘贴 |
| `Ctrl-g`    | 提示当前文件相对于工作目录的相对路径以及当前光标所在位置                                  | 其它           |

> 备注：
>
> - 命令中的 `motion` 一般代表移动命令，例如 `y{motion}` 的意思是 y 前缀加上一个移动命令，
>   就可以复制该移动命令所能到达的范围的内容。
> - `motion` 存在 in 模式，以 i 前缀加上其它移动命令，就代表着在这之中做动作，
>   例如 `yiw` 代表复制光标所在的完整单词，`yi"` 代表复制光标所在的引号（`""`）内的内容，`yi(` 等命令均可以此类推。

### 插入模式（Insert Mode）

| 快捷键       | 作用             |
| ------------ | ---------------- |
| `Ctrl-Left`  | 向左跳跃一个单词 |
| `Ctrl-Right` | 向右跳跃一个单词 |

### 可视模式（Visual Mode）

| 快捷键 | 作用                                             |
| ------ | ------------------------------------------------ |
| `~`    | 切换选中内容的大小写                             |
| `I`    | 在块可视模式中生效，所有选择的内容的行首插入内容 |
| `A`    | 在块可视模式中生效，所有选择的内容的行尾插入内容 |
| `gJ`   | 合并所有选择的行，不会新增或删除任何空格         |
| `:`    | 在所选范围中执行命令                             |

### 强大的 g 前缀命令

`g` 前缀命令通常作用于普通模式（Normal Mode）和可视模式（Visual Mode）中，
以 `g` 为前缀能做到非常多强大的文本操作、导航、格式化和大小写转换等操作。

| 快捷键       | 作用                                                                      |
| ------------ | ------------------------------------------------------------------------- |
| `{n}gg`      | 跳转到文件的第 n 行，如果不传 n 则是跳转到第 1 行                         |
| `gj`         | 按屏幕行（而非实际行）向下移动一行                                        |
| `gk`         | 按屏幕行（而非实际行）向上移动一行                                        |
| `gd`         | 跳转到光标下变量/函数的局部定义处                                         |
| `gu{motion}` | 将 motion 选中文本转为小写                                                |
| `gU{motion}` | 将 motion 选中文本转为大写                                                |
| `g~{motion}` | 将 motion 选中文本切换大写                                                |
| `g~~`        | 切换当前行大小写                                                          |
| `gf`         | 前往光标所在位置的文件或链接，如果是 macOS 系统则会用系统默认方式打开链接 |

## 基础命令

> 模式缩写列表
>
> | 模式 | 描述                                                  |
> | ---- | ----------------------------------------------------- |
> | `n`  | 普通模式（Normal mode）：默认模式，用于浏览和操作文本 |
> | `i`  | 插入模式（Insert mode）：用于输入文本                 |
> | `v`  | 可视模式（Visual mode）：用于选择文本                 |
> | `x`  | 可视行模式（Visual line mode）：按行选择文本          |
> | `s`  | 可视块模式（Visual block mode）：按块选择文本         |
> | `c`  | 命令模式（Command mode）：在命令行中输入命令          |
> | `t`  | 终端模式（Terminal mode）：在终端缓冲区中操作         |

| 快捷键            | 作用                                            | 可用模式 |
| ----------------- | ----------------------------------------------- | -------- |
| `j`               | 向下移动 1 屏幕行                               | n, x     |
| `J`               | 向下移动 5 屏幕行                               | n, x     |
| `k`               | 向上移动 1 屏幕行                               | n, x     |
| `K`               | 向上移动 5 屏幕行                               | n, x     |
| `s`               | 使用 flash 插件快速移动                         | n, o, x  |
| `<leader><space>` | 使用 fzf-lua 全局搜索文件                       | n        |
| `<leader>sF`      | 使用 fzf-lua 输入目录来搜索目标目录下的文件     | n        |
| `<leader>/`       | 使用 fzf-lua 全局搜索文本                       | n        |
| `<leader>sG`      | 使用 fzf-lua 输入目录来搜索目标目录下的文本     | n        |
| `<esc>`           | ESC 并清空高亮                                  | i, n, s  |
| `gcc`             | 切换当前行注释状态                              | n        |
| `gc`              | 切换选中内容注释状态                            | v, x, s  |
| `za`              | 切换当前代码折叠状态                            | n        |
| `<leader>qq`      | 退出所有内容，相当于 `qa` 命令                  | n        |
| `<leader>l`       | 打开 Lazy 控制台                                | n        |
| `<leader>e`       | 打开/关闭 Neo-tree 文件树                       | n        |
| `<leader>fh`      | 以当前 Buffer 所在目录打开/关闭 Neo-tree 文件树 | n        |
| `<leader>;`       | 快捷选择 winbar 中的内容                        | n        |

## 窗口命令

| 快捷键         | 作用           |
| -------------- | -------------- |
| `<Ctrl-h>`     | 前往左侧的窗口 |
| `<Ctrl-j>`     | 前往下侧的窗口 |
| `<Ctrl-k>`     | 前往上侧的窗口 |
| `<Ctrl-l>`     | 前往右侧的窗口 |
| `<Ctrl-Up>`    | 增加窗口高度   |
| `<Ctrl-Down>`  | 降低窗口高度   |
| `<Ctrl-Left>`  | 降低窗口宽度   |
| `<Ctrl-Right>` | 增加窗口宽度   |
| `<Ctrl-/>`     | 显示或隐藏终端 |

## Bufferline

| 快捷键       | 作用                |
| ------------ | ------------------- |
| `H`          | 前往左侧的 Buffer   |
| `L`          | 前往右侧的 Buffer   |
| `<leader>bd` | 删除当前 Buffer     |
| `<leader>bo` | 删除其它 Buffer     |
| `<leader>br` | 删除右侧所有 Buffer |
| `<leader>bl` | 删除左侧所有 Buffer |
| `<leader>bD` | 删除 Buffer 和窗口  |

## 编码相关

| 快捷键       | 作用                                    | 可用模式 |
| ------------ | --------------------------------------- | -------- |
| `gd`         | 前往定义位置                            | n        |
| `gr`         | 前往引用位置                            | n        |
| `gi`         | 前往实现位置                            | n        |
| `gk`         | 打开签名帮助                            | n        |
| `Ctrl-k`     | 打开签名帮助                            | i        |
| `U`          | 打开当前光标所在符号的帮助文档（Hover） | n        |
| `<leader>ca` | Code Action                             | n        |
| `<leader>cf` | 代码格式化                              | n, v     |
| `<leader>cr` | 重命名                                  | n        |
| `<leader>cs` | 树状图展示当前文件的符号表              | n        |
| `<leader>cp` | Markdown 中切换预览显示                 | n        |
| `<leader>ct` | 代码测试相关命令                        | n        |
| `<leader>d`  | 代码 Debug 相关命令                     | n        |

### 代码诊断

| 快捷键       | 作用                                    |
| ------------ | --------------------------------------- |
| `<leader>xx` | 使用 trouble 列出所有诊断信息           |
| `<leader>xX` | 使用 trouble 列出当前 Buffer 的诊断信息 |
| `<leader>cd` | 查看当前行诊断信息                      |
| `]d`         | 前往当前文件下一个诊断信息位置          |
| `[d`         | 前往当前文件上一个诊断信息位置          |
| `]e`         | 前往当前文件下一个错误位置              |
| `[e`         | 前往当前文件上一个错误位置              |
| `]w`         | 前往当前文件下一个警告位置              |
| `[w`         | 前往当前文件上一个警告位置              |

### Todo

| 快捷键       | 作用                                  |
| ------------ | ------------------------------------- |
| `<leader>st` | 使用 fzf-lua 搜索所有类型的 Todo 列表 |
| `<leader>sT` | 使用 fzf-lua 搜索 Todo/Fix/Fixme 列表 |
| `<leader>xt` | 使用 trouble 列出所有类型的 Todo 列表 |
| `<leader>xT` | 使用 trouble 列出 Todo/Fix/Fixme 列表 |

## Git

| 快捷键       | 作用                          |
| ------------ | ----------------------------- |
| `<leader>gg` | 打开 Lazygit                  |
| `<leader>gc` | 使用 fzf-lua 搜索 Git Commits |
| `<leader>gs` | 使用 fzf-lua 搜索 Git Status  |

## Neo-tree

本章节列出的快捷键为在 Neo-tree 中的相关快捷键。

| 快捷键 | 作用                                                 |
| ------ | ---------------------------------------------------- |
| `?`    | 查看所有快捷键                                       |
| `j`    | 向下移动 1 个文件                                    |
| `J`    | 向下移动 5 个文件                                    |
| `k`    | 向上移动 1 个文件                                    |
| `K`    | 向上移动 5 个文件                                    |
| `l`    | 打开文件或展开目录                                   |
| `h`    | 关闭目录                                             |
| `a`    | 创建文件，名称以 `/` 结尾时会创建目录                |
| `r`    | 重命名文件                                           |
| `b`    | 重命名文件的基本名称，即不修改文件后缀               |
| `m`    | 移动文件                                             |
| `d`    | 删除文件                                             |
| `e`    | 展开所有目录                                         |
| `z`    | 收起所有目录                                         |
| `H`    | 切换是否显示隐藏文件                                 |
| `P`    | 进入预览文件模式，该模式下可以预览当前光标所在的文件 |
| `O`    | 使用系统默认方式打开文件                             |
| `R`    | 刷新文件树                                           |
| `i`    | 显示文件详情                                         |
| `/`    | 模糊查找文件                                         |

## Fzf-lua

本章节列出的快捷键为在 fzf-lua 中的相关快捷键。

| 快捷键       | 作用                            |
| ------------ | ------------------------------- |
| `f1`         | 查看所有快捷键                  |
| `Ctrl-j`     | 查看下一个项目                  |
| `Ctrl-k`     | 查看上一个项目                  |
| `Enter`      | 选择当前光标所在项目            |
| `Shift-Up`   | 预览框向上翻页                  |
| `Shift-Down` | 预览框向下翻页                  |
| `Alt-h`      | 切换是否查找隐藏文件            |
| `Alt-i`      | 切换是否查找gitignore忽略的文件 |

## 多光标

| 快捷键           | 作用                                     |
| ---------------- | ---------------------------------------- |
| `Up`             | 在当前位置添加光标并将光标向上移动       |
| `Down`           | 在当前位置添加光标并将光标向下移动       |
| `<leader>-Up`    | 跳过当前位置，不添加光标并将光标向上移动 |
| `<leader>-Down`  | 跳过当前位置，不添加光标并将光标向下移动 |
| `Ctrl-Leftmouse` | 在鼠标点击位置添加或删除光标             |
| `Ctrl-Leftdrag`  | 鼠标左键点击并拖动以快速添加或删除光标   |
